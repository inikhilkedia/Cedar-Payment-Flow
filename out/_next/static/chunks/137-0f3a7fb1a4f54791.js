(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{9608:function(e,a,t){"use strict";let r=(0,t(2265).createContext)({stage:"welcome",setStage:()=>{},amount:600,setAmount:()=>{},cardNumber:void 0,setCardNumber:()=>{},expiry:void 0,setExpiry:()=>{},cvv:void 0,setCvv:()=>{},name:void 0,setName:()=>{},zip:void 0,setZip:()=>{},editing:!1,setEditing:()=>{},error:{},setError:()=>{}});a.Z=r},2137:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var r=t(7437),s=t(2265),l=t(9286),n=t.n(l);let i=e=>{switch(e){case"cardNumber":return"Invalid card number.";case"expiry":return"Invalid expiry date.";case"cvv":return"Invalid CVV.";case"zip":return"Invalid ZIP code.";default:return"Invalid input."}};var c=e=>{let{type:a,id:t}=e;return(0,r.jsxs)("span",{className:"mt-2 block text-custom-error-red",children:["invalid"===a&&i(t),"empty"===a&&"This field is required."]})},o=t(6648),d=e=>{let{type:a,cardType:t}=e;switch(a){case"card":return t?(0,r.jsx)(o.default,{src:{visa:"/cedar-payment-flow/visa.svg",mastercard:"/cedar-payment-flow/mastercard.svg",amex:"/cedar-payment-flow/amex.svg",discover:"/cedar-payment-flow/discover.svg"}[t],alt:"".concat(t," icon"),className:"h-8 w-8",width:10,height:10}):(0,r.jsx)("span",{className:"text-custom-dark",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})})});case"error":return(0,r.jsx)("span",{className:"icon-wrapper",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-error-red",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})});case"success":return(0,r.jsx)("span",{className:"icon-wrapper success",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-success-green",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})});default:return null}};let u=e=>{let a={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,amex:/^3[47][0-9]{13}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/};for(let t in a)if(a[t].test(e))return t;return""};var m=e=>{let{id:a,classes:t="",label:s,value:l,onChange:n,onKeyDown:i,error:o,ariaLabel:m,validationFunc:x}=e;return(0,r.jsxs)("div",{className:"form-group ".concat(t),children:[(0,r.jsx)("label",{htmlFor:a,className:"mb-1 block font-bold text-gray-700 max-[385px]:text-sm",children:s}),(0,r.jsxs)("div",{className:"relative flex items-center",children:["cardNumber"===a&&(0,r.jsx)("span",{className:"absolute left-3 flex items-center",children:(0,r.jsx)(d,{type:"card",cardType:null==u?void 0:u(null!=l?l:"")})}),(0,r.jsx)("input",{type:"text",id:a,value:l,onChange:n,onKeyDown:i,className:"w-full rounded border px-3 py-2 text-custom-dark ".concat(o?"border-custom-error-red":"border-custom-medium-gray"," ").concat("cardNumber"===a?"pl-12":""," pr-10"),"aria-label":m}),(0,r.jsx)("span",{className:"absolute right-3 flex items-center",children:o?(0,r.jsx)(d,{type:"error"}):x(l)?(0,r.jsx)(d,{type:"success"}):null})]}),l.length>0&&o?(0,r.jsx)(c,{type:"invalid",id:a}):0===l.length&&o?(0,r.jsx)(c,{type:"empty",id:a}):null]})},x=t(9608),p=e=>{var a,t,l,i,c;let{classes:o}=e,d=(0,s.useContext)(x.Z),u=d.error,{cardNumber:p,setCardNumber:v,expiry:h,setExpiry:g,cvv:b,setCvv:y,name:f,setName:j,zip:N,setZip:w,setEditing:k,setError:C}=d,L={cardNumber:n().isCreditCard,expiry:e=>{let[a,t]=e.split("/").map(e=>e.trim());if(a&&t&&n().isInt(a,{min:1,max:12})&&n().isInt(t,{min:0})){let e=new Date().getFullYear()%100,r=new Date().getMonth()+1,s=parseInt(t,10),l=parseInt(a,10);return s>e||s===e&&l>=r}return!1},cvv:e=>n().isLength(e,{min:3,max:4})&&n().isNumeric(e),name:e=>n().isAlpha(e.replace(/ /g,"")),zip:e=>n().isPostalCode(e,"US")},z=(e,a)=>{let t=a;"expiry"===e&&2===a.length&&(t=a+"/"),({cardNumber:v,expiry:g,cvv:y,name:j,zip:w})[e](t);let r=!L[e](t);C(a=>({...a,[e]:r}))};return(0,r.jsxs)("form",{id:"PaymentForm",onSubmit:e=>{e.preventDefault();let a={};Object.keys(L).forEach(e=>{L[e](d[e])||(a[e]=!0)}),0===Object.keys(a).length?(C({}),null==k||k(!1)):C(a)},className:"space-y-4 ".concat(o),children:[(0,r.jsx)(m,{id:"cardNumber",label:"Card number",value:null!=p?p:"",onChange:e=>z("cardNumber",e.target.value),error:null!==(a=u.cardNumber)&&void 0!==a&&a,ariaLabel:"Card number",validationFunc:L.cardNumber}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(m,{id:"expiry",classes:"flex-1",label:"Expires (MM/YY)",value:null!=h?h:"",onChange:e=>z("expiry",e.target.value),onKeyDown:e=>{let a=e.target;("Backspace"===e.key||"Delete"===e.key)&&3===a.selectionStart&&"/"===a.value[2]&&(e.preventDefault(),g(a.value.slice(0,2)))},error:null!==(t=u.expiry)&&void 0!==t&&t,ariaLabel:"Expiration date",validationFunc:L.expiry}),(0,r.jsx)(m,{id:"cvv",classes:"flex-1",label:"Security code (CVV)",value:null!=b?b:"",onChange:e=>z("cvv",e.target.value),error:null!==(l=u.cvv)&&void 0!==l&&l,ariaLabel:"CVV",validationFunc:L.cvv})]}),(0,r.jsx)(m,{id:"name",label:"Name on card",value:null!=f?f:"",onChange:e=>z("name",e.target.value),error:null!==(i=u.name)&&void 0!==i&&i,ariaLabel:"Name on card",validationFunc:L.name}),(0,r.jsx)(m,{id:"zip",label:"Zip code",value:null!=N?N:"",onChange:e=>z("zip",e.target.value),error:null!==(c=u.zip)&&void 0!==c&&c,ariaLabel:"Zip code",validationFunc:L.zip}),(0,r.jsx)("button",{type:"submit",className:"mt-8 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",children:"Continue"})]})},v=t(482),h=t.n(v);function g(){let{amount:e,cardNumber:a,editing:t,setEditing:l,setStage:n}=(0,s.useContext)(x.Z)||{},[i,c]=(0,s.useState)(t?h().expand:h().collapse),[o,m]=(0,s.useState)(t?h().collapse:h().expand);return(0,s.useEffect)(()=>{t?(c(h().expand),m(h().collapse)):(c(h().collapse),m(h().expand))},[t]),(0,r.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-full flex-col rounded-lg bg-white p-8 text-left shadow-lg max-[1023px]:mx-0 max-[768px]:px-4 lg:my-10 lg:max-w-md",children:[(0,r.jsxs)("section",{id:"step1",className:"".concat(t?"mb-6":"mb-3"),children:[(0,r.jsxs)("header",{className:"flex items-center ".concat(t?"mb-6":"mb-0"),children:[(0,r.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(t?"bg-blue-600 text-white":"bg-custom-light-gray text-gray-500"),children:"1"}),(0,r.jsx)("p",{className:"grow text-xl font-bold text-custom-dark",children:"Payment information"}),!t&&(0,r.jsx)("p",{className:"ml-4 text-lg font-bold text-blue-600 cursor-pointer",onClick:()=>null==l?void 0:l(!0),children:"Edit"})]}),t&&(0,r.jsx)(p,{classes:i})]}),(0,r.jsxs)("section",{id:"step2",className:"mt-3 border-t pt-5",children:[(0,r.jsxs)("header",{className:"flex items-center",children:[(0,r.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(t?"bg-custom-light-gray text-gray-500":"bg-blue-600 text-white"),children:"2"}),(0,r.jsx)("span",{className:"".concat(t?"text-gray-500":"text-xl font-bold text-custom-dark"),children:"Review and pay"})]}),!t&&(0,r.jsxs)("div",{className:o,children:[(0,r.jsxs)("p",{className:"my-6 text-xl text-custom-dark",children:["You're about to make a payment of"," ",(0,r.jsxs)("span",{className:"font-bold",children:["$",e]})]}),(0,r.jsx)("h3",{className:"text-lg font-bold text-custom-gray",children:"Payment method"}),(0,r.jsxs)("div",{className:"my-4 flex items-center justify-start gap-2",children:[(0,r.jsx)(d,{type:"card",cardType:null==u?void 0:u(null!=a?a:"")}),(0,r.jsxs)("span",{className:"card-details text-custom-dark",children:["Card ending in ••••",null==a?void 0:a.slice(-4)]})]}),(0,r.jsxs)("button",{className:"m-auto mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",onClick:()=>null==n?void 0:n("thankyou"),children:["Pay $",e]})]})]})]})}},482:function(e){e.exports={expand:"PayAndReview_expand__eiQXq",collapse:"PayAndReview_collapse__jiIcy"}}}]);