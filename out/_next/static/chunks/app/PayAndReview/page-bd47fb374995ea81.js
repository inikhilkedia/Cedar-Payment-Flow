(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{91:function(e,a,r){Promise.resolve().then(r.bind(r,2137))},9608:function(e,a,r){"use strict";let t=(0,r(2265).createContext)({amount:600,setAmount:()=>{},cardNumber:void 0,setCardNumber:()=>{},expiry:void 0,setExpiry:()=>{},cvv:void 0,setCvv:()=>{},name:void 0,setName:()=>{},zip:void 0,setZip:()=>{},editing:!1,setEditing:()=>{},error:{},setError:()=>{}});a.Z=t},2137:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return j}});var t=r(7437),s=r(2265),l=r(6463),n=r(9286),i=r.n(n);let c={cardNumber:"Invalid card number.",expiry:"Invalid expiry date.",cvv:"Invalid CVV.",zip:"Invalid ZIP code."};var o=e=>{let{type:a,id:r}=e;return(0,t.jsxs)("span",{className:"mt-2 block text-custom-error-red",children:["invalid"===a&&c[r],"empty"===a&&"This field is required."]})},d=r(6648);let u={visa:"/payment-flow/visa.svg",mastercard:"/payment-flow/mastercard.svg",amex:"/payment-flow/amex.svg",discover:"/payment-flow/discover.svg"},m={error:(0,t.jsx)("span",{className:"icon-wrapper",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-error-red",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})}),success:(0,t.jsx)("span",{className:"icon-wrapper success",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-success-green",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})})},x=(0,t.jsx)("span",{className:"text-custom-dark",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})})});var p=e=>{let{type:a,cardType:r}=e;return"card"===a?r?(0,t.jsx)(d.default,{src:u[r],alt:"".concat(r," icon"),className:"h-8 w-8",width:10,height:10}):x:m[a]||null};let v=e=>i().isCreditCard(e,{provider:"visa"})?"visa":i().isCreditCard(e,{provider:"mastercard"})?"mastercard":i().isCreditCard(e,{provider:"amex"})?"amex":i().isCreditCard(e,{provider:"discover"})?"discover":"",h=(0,s.forwardRef)((e,a)=>{let{id:r,classes:s="",label:l,value:n,onChange:i,onKeyDown:c,error:d,ariaLabel:u,validationFunc:m}=e;return(0,t.jsxs)("div",{className:"form-group ".concat(s),children:[(0,t.jsx)("label",{htmlFor:r,className:"mb-1 block font-bold text-gray-700 max-[385px]:text-sm",children:l}),(0,t.jsxs)("div",{className:"relative flex items-center",children:["cardNumber"===r&&(0,t.jsx)("span",{className:"absolute left-3 flex items-center",children:(0,t.jsx)(p,{type:"card",cardType:null==v?void 0:v(null!=n?n:"")})}),(0,t.jsx)("input",{type:"text",id:r,value:n,onChange:i,onKeyDown:c,className:"w-full rounded border px-3 py-2 text-custom-dark ".concat(d?"border-custom-error-red":"border-custom-medium-gray"," ").concat("cardNumber"===r?"pl-12":""," pr-10"),"aria-label":u,ref:a}),(0,t.jsx)("span",{className:"absolute right-3 flex items-center",children:d?(0,t.jsx)(p,{type:"error"}):m(n)?(0,t.jsx)(p,{type:"success"}):null})]}),n.length>0&&d?(0,t.jsx)(o,{type:"invalid",id:r}):0===n.length&&d?(0,t.jsx)(o,{type:"empty",id:r}):null]})});h.displayName="InputField";var f=r(9608),b=e=>{var a,r,l,n,c;let{classes:o}=e,d=(0,s.useContext)(f.Z),u=d.error,{cardNumber:m,setCardNumber:x,expiry:p,setExpiry:v,cvv:b,setCvv:g,name:y,setName:j,zip:N,setZip:w,setEditing:C,setError:k}=d,L=(0,s.useRef)(null),E=(0,s.useRef)(null),_=(0,s.useRef)(null),z=(0,s.useRef)(null),I=(0,s.useRef)(null),R={cardNumber:i().isCreditCard,expiry:e=>{let[a,r]=e.split("/").map(e=>e.trim());if(a&&r&&i().isInt(a,{min:1,max:12})&&i().isInt(r,{min:0})){let e=new Date().getFullYear()%100,t=new Date().getMonth()+1,s=parseInt(r,10),l=parseInt(a,10);return s>e||s===e&&l>=t}return!1},cvv:e=>m&&i().isCreditCard(m,{provider:"amex"})?i().isLength(e,{min:4,max:4})&&i().isNumeric(e):i().isLength(e,{min:3,max:3})&&i().isNumeric(e),name:e=>i().isAlpha(e.replace(/ /g,"")),zip:e=>i().isPostalCode(e,"US")},Z=(e,a,r)=>{let t=a;"expiry"===e&&2===a.length&&(t=a+"/"),({cardNumber:x,expiry:v,cvv:g,name:j,zip:w})[e](t);let s=!R[e](t);k(a=>({...a,[e]:s})),!s&&(null==r?void 0:r.current)&&r.current.focus()};return(0,t.jsxs)("form",{id:"PaymentForm",onSubmit:e=>{e.preventDefault();let a={};Object.keys(R).forEach(e=>{R[e](d[e])||(a[e]=!0)}),0===Object.keys(a).length?(k({}),null==C||C(!1)):k(a)},className:"space-y-4 ".concat(o),children:[(0,t.jsx)(h,{id:"cardNumber",label:"Card number",value:null!=m?m:"",onChange:e=>Z("cardNumber",e.target.value,E),error:null!==(a=u.cardNumber)&&void 0!==a&&a,ariaLabel:"Card number",validationFunc:R.cardNumber,ref:L}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)(h,{id:"expiry",classes:"flex-1",label:"Expires (MM/YY)",value:null!=p?p:"",onChange:e=>Z("expiry",e.target.value,_),onKeyDown:e=>{let a=e.target;("Backspace"===e.key||"Delete"===e.key)&&3===a.selectionStart&&"/"===a.value[2]&&(e.preventDefault(),v(a.value.slice(0,2)))},error:null!==(r=u.expiry)&&void 0!==r&&r,ariaLabel:"Expiration date",validationFunc:R.expiry,ref:E}),(0,t.jsx)(h,{id:"cvv",classes:"flex-1",label:"Security code (CVV)",value:null!=b?b:"",onChange:e=>Z("cvv",e.target.value,z),error:null!==(l=u.cvv)&&void 0!==l&&l,ariaLabel:"CVV",validationFunc:R.cvv,ref:_})]}),(0,t.jsx)(h,{id:"name",label:"Name on card",value:null!=y?y:"",onChange:e=>Z("name",e.target.value,I),error:null!==(n=u.name)&&void 0!==n&&n,ariaLabel:"Name on card",validationFunc:R.name,ref:z}),(0,t.jsx)(h,{id:"zip",label:"Zip code",value:null!=N?N:"",onChange:e=>Z("zip",e.target.value),error:null!==(c=u.zip)&&void 0!==c&&c,ariaLabel:"Zip code",validationFunc:R.zip,ref:I}),(0,t.jsx)("button",{type:"submit",className:"mt-8 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",children:"Continue"})]})},g=r(482),y=r.n(g);function j(){let{amount:e,cardNumber:a,editing:r,setEditing:n}=(0,s.useContext)(f.Z)||{},i=(0,l.useRouter)(),[c,o]=(0,s.useState)(r?y().expand:y().collapse),[d,u]=(0,s.useState)(r?y().collapse:y().expand);return(0,s.useEffect)(()=>{!1===r&&n&&n(!0)},[r,n]),(0,s.useEffect)(()=>{r?(o(y().expand),u(y().collapse)):(o(y().collapse),u(y().expand))},[r]),(0,t.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-full flex-col rounded-lg bg-white p-8 text-left shadow-lg max-[1023px]:mx-0 max-[768px]:px-4 lg:my-10 lg:max-w-md",children:[(0,t.jsxs)("section",{id:"step1",className:"".concat(r?"mb-6":"mb-3"),children:[(0,t.jsxs)("header",{className:"flex items-center ".concat(r?"mb-6":"mb-0"),children:[(0,t.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(r?"bg-blue-600 text-white":"bg-custom-light-gray text-gray-500"),children:"1"}),(0,t.jsx)("p",{className:"grow text-xl font-bold text-custom-dark",children:"Payment information"}),!r&&(0,t.jsx)("p",{className:"ml-4 text-lg font-bold text-blue-600 cursor-pointer",onClick:()=>null==n?void 0:n(!0),children:"Edit"})]}),r&&(0,t.jsx)(b,{classes:c})]}),(0,t.jsxs)("section",{id:"step2",className:"mt-3 border-t pt-5",children:[(0,t.jsxs)("header",{className:"flex items-center",children:[(0,t.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(r?"bg-custom-light-gray text-gray-500":"bg-blue-600 text-white"),children:"2"}),(0,t.jsx)("span",{className:"".concat(r?"text-gray-500":"text-xl font-bold text-custom-dark"),children:"Review and pay"})]}),!r&&(0,t.jsxs)("div",{className:d,children:[(0,t.jsxs)("p",{className:"my-6 text-xl text-custom-dark",children:["You're about to make a payment of"," ",(0,t.jsxs)("span",{className:"font-bold",children:["$",e]})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-custom-gray",children:"Payment method"}),(0,t.jsxs)("div",{className:"my-4 flex items-center justify-start gap-2",children:[(0,t.jsx)(p,{type:"card",cardType:null==v?void 0:v(null!=a?a:"")}),(0,t.jsxs)("span",{className:"card-details text-custom-dark",children:["Card ending in ••••",null==a?void 0:a.slice(-4)]})]}),(0,t.jsxs)("button",{className:"m-auto mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",onClick:e=>{e.preventDefault(),n&&(n(!1),i.push("/ThankYou"))},children:["Pay $",e]})]})]})]})}},482:function(e){e.exports={expand:"PayAndReview_expand__eiQXq",collapse:"PayAndReview_collapse__jiIcy"}}},function(e){e.O(0,[370,595,286,971,23,744],function(){return e(e.s=91)}),_N_E=e.O()}]);