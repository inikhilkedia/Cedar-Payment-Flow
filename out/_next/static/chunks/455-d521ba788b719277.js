(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{9608:function(e,a,t){"use strict";let l=(0,t(2265).createContext)({stage:"welcome",setStage:null,amount:600,setAmount:null,cardNumber:null,setCardNumber:null,expiry:null,setExpiry:()=>{},cvv:null,setCvv:null,name:null,setName:null,zip:null,setZip:null,editing:!1,setEditing:()=>{}});a.Z=l},7455:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var l=t(7437),s=t(2265),r=t(9286),n=t.n(r),i=()=>(0,l.jsx)("span",{className:"icon-wrapper",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-error-red",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})}),c=()=>(0,l.jsx)("span",{className:"icon-wrapper success",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-success-green",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})});let o=e=>{switch(e){case"cardNumber":return"Invalid card number.";case"expiry":return"Invalid expiry date.";case"cvv":return"Invalid CVV.";case"zip":return"Invalid ZIP code."}},d=e=>{let{type:a,id:t}=e;return(0,l.jsxs)("span",{className:"error-text text-custom-error-red",children:["invalid"===a&&o(t),"empty"===a&&"This field is required."]})};var u=e=>{let{id:a,classes:t,label:s,value:r,onChange:n,onKeyDown:o,error:u,ariaLabel:m,validationFunc:x}=e;return(0,l.jsxs)("div",{className:"form-group ".concat(t),children:[(0,l.jsx)("label",{htmlFor:a,className:"mb-1 block font-bold text-gray-700 max-[385px]:text-sm",children:s}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",id:a,value:r,onChange:n,onKeyDown:o,className:"w-full rounded border px-3 py-2 text-custom-dark ".concat(u?"border-custom-error-red":"border-custom-medium-gray"),"aria-label":m}),u?(0,l.jsx)(i,{}):x(r)?(0,l.jsx)(c,{}):null]}),r.length&&u?(0,l.jsx)(d,{type:"invalid",id:a}):0===r.length&&u?(0,l.jsx)(d,{type:"empty",id:a}):null]})},m=t(9608);let x=e=>n().isCreditCard(e),p=e=>{let[a,t]=e.split("/").map(e=>e.trim());if(a&&t&&n().isInt(a,{min:1,max:12})&&n().isInt(t,{min:0})){let e=new Date().getFullYear()%100,l=new Date().getMonth()+1,s=parseInt(t,10),r=parseInt(a,10);if(s>e||s===e&&r>=l)return!0}return!1},v=e=>n().isLength(e,{min:3,max:4})&&n().isNumeric(e),h=e=>n().isAlpha(e.replace(/ /g,"")),b=e=>n().isPostalCode(e,"US");var g=e=>{let{classes:a}=e,{cardNumber:t,setCardNumber:r,expiry:n,setExpiry:i,cvv:c,setCvv:o,name:d,setName:g,zip:j,setZip:f,setEditing:y}=(0,s.useContext)(m.Z),[N,w]=(0,s.useState)({}),k=(e,a)=>{let t={},l=a;switch(e){case"cardNumber":null==r||r(a),x(a)||(t.cardNumber=!0),w({...t,cardNumber:t.cardNumber});break;case"expiry":2===a.length&&(l=a+"/"),i(l);break;case"cvv":null==o||o(a),v(a)||(t.cvv=!0),w({...N,cvv:t.cvv});break;case"name":null==g||g(a),h(a)||(t.name=!0),w({...N,name:t.name});break;case"zip":null==f||f(a),b(a)||(t.zip=!0),w({...N,zip:t.zip})}};return(0,l.jsxs)("form",{id:"PaymentForm",onSubmit:e=>{e.preventDefault();let a={};x(t)||(a.cardNumber=!0),p(n)||(a.expiry=!0),v(c)||(a.cvv=!0),h(d)||(a.name=!0),b(j)||(a.zip=!0),0===Object.keys(a).length?(w({}),y(!1)):w(a)},className:"space-y-4 ".concat(a),children:[(0,l.jsx)(u,{id:"cardNumber",label:"Card number",value:t,onChange:e=>k("cardNumber",e.target.value),error:N.cardNumber,ariaLabel:"Card number",validationFunc:x}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(u,{id:"expiry",classes:"flex-1",label:"Expires (MM/YY)",value:n,onChange:e=>k("expiry",e.target.value),onKeyDown:e=>{let a=e.target;if("Backspace"===e.key||"Delete"===e.key){let{selectionStart:t,value:l}=a;3===t&&"/"===l[2]&&(e.preventDefault(),i(l.slice(0,2)))}},error:N.expiry,ariaLabel:"Expiration date",validationFunc:p}),(0,l.jsx)(u,{id:"cvv",classes:"flex-1",label:"Security code (CVV)",value:c,onChange:e=>k("cvv",e.target.value),error:N.cvv,ariaLabel:"CVV",validationFunc:v})]}),(0,l.jsx)(u,{id:"name",label:"Name on card",value:d,onChange:e=>k("name",e.target.value),error:N.name,ariaLabel:"Name on card",validationFunc:h}),(0,l.jsx)(u,{id:"zip",label:"Zip code",value:j,onChange:e=>k("zip",e.target.value),error:N.zip,ariaLabel:"Zip code",validationFunc:b}),(0,l.jsx)("button",{type:"submit",className:"mt-8 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",children:"Continue"})]})};let j=e=>{let a={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,amex:/^3[47][0-9]{13}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/};for(let t in a)if(a[t].test(e))return t;return""};var f=t(6648),y=e=>{let{cardType:a}=e;return(0,l.jsx)(l.Fragment,{children:a&&(0,l.jsx)(f.default,{src:{visa:"/visa.svg",mastercard:"/mastercard.svg",amex:"/amex.svg",discover:"/discover.svg"}[a],alt:"".concat(a," icon"),className:"h-8 w-8",width:10,height:10})})},N=t(482),w=t.n(N);function k(){let{amount:e,cardNumber:a,editing:t,setEditing:r,setStage:n}=(0,s.useContext)(m.Z),[i,c]=(0,s.useState)(t?w().expand:w().collapse),[o,d]=(0,s.useState)(t?w().collapse:w().expand);return(0,s.useEffect)(()=>{t?(c(w().expand),d(w().collapse)):(c(w().collapse),d(w().expand))},[t]),(0,l.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-full flex-col rounded-lg bg-white p-8 text-left shadow-lg max-[1023px]:mx-0 max-[768px]:px-4 lg:my-10 lg:max-w-md",children:[(0,l.jsxs)("section",{id:"step1",className:"".concat(t?"mb-6":"mb-3"),children:[(0,l.jsxs)("header",{className:"flex items-center ".concat(t?"mb-6":"mb-0"),children:[(0,l.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(t?"bg-blue-600 text-white":"bg-custom-light-gray text-gray-500"," "),children:"1"}),(0,l.jsx)("p",{className:"grow text-xl font-bold text-custom-dark",children:"Payment information"}),!t&&(0,l.jsx)("p",{className:"ml-4 text-lg font-bold text-blue-600",onClick:()=>r(!0),children:"Edit"})]}),t&&(0,l.jsx)(g,{classes:i})]}),(0,l.jsxs)("section",{id:"step2",className:"mt-3 border-t pt-5",children:[(0,l.jsxs)("header",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(t?"bg-custom-light-gray text-gray-500":"bg-blue-600 text-white"),children:"2"}),(0,l.jsx)("span",{className:"".concat(t?"text-gray-500":"text-xl font-bold text-custom-dark"),children:"Review and pay"})]}),!t&&(0,l.jsxs)("div",{className:o,children:[(0,l.jsxs)("p",{className:"my-6 text-xl text-custom-dark",children:["You're about to make a payment of"," ",(0,l.jsxs)("span",{className:"font-bold",children:["$",e]})]}),(0,l.jsx)("h3",{className:"text-lg font-bold text-custom-gray",children:"Payment method"}),(0,l.jsxs)("div",{className:"my-4 flex items-center justify-start gap-2",children:[(0,l.jsx)(y,{cardType:null==j?void 0:j(a)}),(0,l.jsxs)("span",{className:"card-details text-custom-dark",children:["Card ending in ••••",null==a?void 0:a.slice(-4)]})]}),(0,l.jsx)("button",{className:"m-auto mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",onClick:()=>null==n?void 0:n("thankyou"),children:"Pay $600.00"})]})]})]})}},482:function(e){e.exports={expand:"PayAndReview_expand__eiQXq",collapse:"PayAndReview_collapse__jiIcy"}}}]);