(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{91:function(e,t,a){Promise.resolve().then(a.bind(a,2137))},9608:function(e,t,a){"use strict";let r=(0,a(2265).createContext)({amount:600,setAmount:()=>{},cardNumber:void 0,setCardNumber:()=>{},expiry:void 0,setExpiry:()=>{},cvv:void 0,setCvv:()=>{},name:void 0,setName:()=>{},zip:void 0,setZip:()=>{},editing:!1,setEditing:()=>{},error:{},setError:()=>{}});t.Z=r},2137:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var r=a(7437),l=a(2265),s=a(6463),n=a(9892),i=a(9286),c=a.n(i);let o={cardNumber:"Invalid card number.",expiry:"Invalid expiry date.",cvv:"Invalid CVV.",zip:"Invalid ZIP code."};var d=e=>{let{type:t,id:a}=e;return(0,r.jsxs)("span",{className:"mt-2 block text-custom-error-red",children:["invalid"===t&&o[a],"empty"===t&&"This field is required."]})},u=a(6648);let m={visa:"/payment-flow/visa.svg",mastercard:"/payment-flow/mastercard.svg",amex:"/payment-flow/amex.svg",discover:"/payment-flow/discover.svg"},x={error:(0,r.jsx)("span",{className:"icon-wrapper",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-error-red",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})}),success:(0,r.jsx)("span",{className:"icon-wrapper success",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-success-green",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})})},p=(0,r.jsx)("span",{className:"text-custom-dark",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})})});var v=e=>{let{type:t,cardType:a}=e;return"card"===t?a?(0,r.jsx)(u.default,{src:m[a],alt:"".concat(a," icon"),className:"h-8 w-8",width:10,height:10}):p:x[t]||null};let h=e=>c().isCreditCard(e,{provider:"visa"})?"visa":c().isCreditCard(e,{provider:"mastercard"})?"mastercard":c().isCreditCard(e,{provider:"amex"})?"amex":c().isCreditCard(e,{provider:"discover"})?"discover":"",f=(0,l.forwardRef)((e,t)=>{let{id:a,classes:l="",label:s,value:n,onChange:i,onKeyDown:c,error:o,ariaLabel:u,validationFunc:m}=e;return(0,r.jsxs)("div",{className:"form-group ".concat(l),children:[(0,r.jsx)("label",{htmlFor:a,className:"mb-1 block font-bold text-gray-700 max-[385px]:text-sm",children:s}),(0,r.jsxs)("div",{className:"relative flex items-center",children:["cardNumber"===a&&(0,r.jsx)("span",{className:"absolute left-3 flex items-center",children:(0,r.jsx)(v,{type:"card",cardType:null==h?void 0:h(null!=n?n:"")})}),(0,r.jsx)("input",{type:"text",id:a,value:n,onChange:i,onKeyDown:c,className:"w-full rounded border px-3 py-2 text-custom-dark ".concat(o?"border-custom-error-red":"border-custom-medium-gray"," ").concat("cardNumber"===a?"pl-12":""," pr-10"),"aria-label":u,ref:t}),(0,r.jsx)("span",{className:"absolute right-3 flex items-center",children:o?(0,r.jsx)(v,{type:"error"}):m(n)?(0,r.jsx)(v,{type:"success"}):null})]}),n.length>0&&o?(0,r.jsx)(d,{type:"invalid",id:a}):0===n.length&&o?(0,r.jsx)(d,{type:"empty",id:a}):null]})});f.displayName="InputField";var g=a(9608),b=e=>{var t,a,s,n,i;let{classes:o}=e,d=(0,l.useContext)(g.Z),u=d.error,{cardNumber:m,setCardNumber:x,expiry:p,setExpiry:v,cvv:h,setCvv:b,name:y,setName:j,zip:N,setZip:w,setEditing:C,setError:k}=d,L=(0,l.useRef)(null),Z=(0,l.useRef)(null),E=(0,l.useRef)(null),_=(0,l.useRef)(null),z=(0,l.useRef)(null),I={cardNumber:c().isCreditCard,expiry:e=>{let[t,a]=e.split("/").map(e=>e.trim());if(t&&a&&c().isInt(t,{min:1,max:12})&&c().isInt(a,{min:0})){let e=new Date().getFullYear()%100,r=new Date().getMonth()+1,l=parseInt(a,10),s=parseInt(t,10);return l>e||l===e&&s>=r}return!1},cvv:e=>m&&c().isCreditCard(m,{provider:"amex"})?c().isLength(e,{min:4,max:4})&&c().isNumeric(e):c().isLength(e,{min:3,max:3})&&c().isNumeric(e),name:e=>c().isAlpha(e.replace(/ /g,"")),zip:e=>c().isPostalCode(e,"US")},R=(e,t,a)=>{let r=t;"expiry"===e&&2===t.length&&(r=t+"/"),({cardNumber:x,expiry:v,cvv:b,name:j,zip:w})[e](r);let l=!I[e](r);k(t=>({...t,[e]:l})),!l&&(null==a?void 0:a.current)&&a.current.focus()};return(0,r.jsxs)("form",{id:"PaymentForm",onSubmit:e=>{e.preventDefault();let t={};Object.keys(I).forEach(e=>{I[e](d[e])||(t[e]=!0)}),0===Object.keys(t).length?(k({}),null==C||C(!1)):k(t)},className:"space-y-4 ".concat(o),children:[(0,r.jsx)(f,{id:"cardNumber",label:"Card number",value:null!=m?m:"",onChange:e=>R("cardNumber",e.target.value,Z),error:null!==(t=u.cardNumber)&&void 0!==t&&t,ariaLabel:"Card number",validationFunc:I.cardNumber,ref:L}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(f,{id:"expiry",classes:"flex-1",label:"Expires (MM/YY)",value:null!=p?p:"",onChange:e=>R("expiry",e.target.value,E),onKeyDown:e=>{let t=e.target;("Backspace"===e.key||"Delete"===e.key)&&3===t.selectionStart&&"/"===t.value[2]&&(e.preventDefault(),v(t.value.slice(0,2)))},error:null!==(a=u.expiry)&&void 0!==a&&a,ariaLabel:"Expiration date",validationFunc:I.expiry,ref:Z}),(0,r.jsx)(f,{id:"cvv",classes:"flex-1",label:"Security code (CVV)",value:null!=h?h:"",onChange:e=>R("cvv",e.target.value,_),error:null!==(s=u.cvv)&&void 0!==s&&s,ariaLabel:"CVV",validationFunc:I.cvv,ref:E})]}),(0,r.jsx)(f,{id:"name",label:"Name on card",value:null!=y?y:"",onChange:e=>R("name",e.target.value,z),error:null!==(n=u.name)&&void 0!==n&&n,ariaLabel:"Name on card",validationFunc:I.name,ref:_}),(0,r.jsx)(f,{id:"zip",label:"Zip code",value:null!=N?N:"",onChange:e=>R("zip",e.target.value),error:null!==(i=u.zip)&&void 0!==i&&i,ariaLabel:"Zip code",validationFunc:I.zip,ref:z}),(0,r.jsx)("button",{type:"submit",className:"mt-8 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",children:"Continue"})]})},y=a(482),j=a.n(y);function N(){let{amount:e,cardNumber:t,editing:a,setEditing:i}=(0,l.useContext)(g.Z)||{},c=(0,s.useRouter)(),[o,d]=(0,l.useState)(a?j().expand:j().collapse),[u,m]=(0,l.useState)(a?j().collapse:j().expand);return(0,l.useEffect)(()=>{!1===a&&i&&i(!0)},[a,i]),(0,l.useEffect)(()=>{a?(d(j().expand),m(j().collapse)):(d(j().collapse),m(j().expand))},[a]),(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-full flex-col rounded-lg bg-white p-8 text-left shadow-lg max-[1023px]:mx-0 max-[768px]:px-4 lg:my-10 lg:max-w-md",children:[(0,r.jsxs)("section",{id:"step1",className:"".concat(a?"mb-6":"mb-3"),children:[(0,r.jsxs)("header",{className:"flex items-center ".concat(a?"mb-6":"mb-0"),children:[(0,r.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(a?"bg-blue-600 text-white":"bg-custom-light-gray text-gray-500"),children:"1"}),(0,r.jsx)("p",{className:"grow text-xl font-bold text-custom-dark",children:"Payment information"}),!a&&(0,r.jsx)("p",{className:"ml-4 text-lg font-bold text-blue-600 cursor-pointer",onClick:()=>null==i?void 0:i(!0),children:"Edit"})]}),a&&(0,r.jsx)(b,{classes:o})]}),(0,r.jsxs)("section",{id:"step2",className:"mt-3 border-t pt-5",children:[(0,r.jsxs)("header",{className:"flex items-center",children:[(0,r.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(a?"bg-custom-light-gray text-gray-500":"bg-blue-600 text-white"),children:"2"}),(0,r.jsx)("span",{className:"".concat(a?"text-gray-500":"text-xl font-bold text-custom-dark"),children:"Review and pay"})]}),!a&&(0,r.jsxs)("div",{className:u,children:[(0,r.jsxs)("p",{className:"my-6 text-xl text-custom-dark",children:["You're about to make a payment of"," ",(0,r.jsxs)("span",{className:"font-bold",children:["$",e]})]}),(0,r.jsx)("h3",{className:"text-lg font-bold text-custom-gray",children:"Payment method"}),(0,r.jsxs)("div",{className:"my-4 flex items-center justify-start gap-2",children:[(0,r.jsx)(v,{type:"card",cardType:null==h?void 0:h(null!=t?t:"")}),(0,r.jsxs)("span",{className:"card-details text-custom-dark",children:["Card ending in ••••",null==t?void 0:t.slice(-4)]})]}),(0,r.jsxs)("button",{className:"m-auto mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",onClick:e=>{e.preventDefault(),i&&(i(!1),c.push("/ThankYou"))},children:["Pay $",e]})]})]})]})})}},9892:function(e,t,a){"use strict";var r=a(7437),l=a(2265),s=a(6648),n=a(9608),i=a(6463);t.Z=e=>{let{children:t}=e,{setError:a,setEditing:c,setCardNumber:o,setExpiry:d,setCvv:u,setName:m,setZip:x}=(0,l.useContext)(n.Z)||{},p=(0,i.useRouter)();return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col bg-blue-50",children:[(0,r.jsx)("header",{className:"flex items-center min-h-20 bg-white p-4 shadow-md",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(s.default,{src:"/payment-flow/abclogo.svg",alt:"ABC Health System",width:100,height:100,className:"h-auto w-auto cursor-pointer",onClick:()=>{null==a||a({}),null==c||c(!1),null==o||o(""),null==d||d(""),null==u||u(""),null==m||m(""),null==x||x(""),p.push("/")},priority:!0})})}),(0,r.jsx)("main",{className:"flex-grow min-h-screen text-center",children:t})]})}},482:function(e){e.exports={expand:"PayAndReview_expand__eiQXq",collapse:"PayAndReview_collapse__jiIcy"}}},function(e){e.O(0,[370,595,286,971,23,744],function(){return e(e.s=91)}),_N_E=e.O()}]);