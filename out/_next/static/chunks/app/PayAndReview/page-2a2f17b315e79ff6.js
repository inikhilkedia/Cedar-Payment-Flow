(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{91:function(e,t,a){Promise.resolve().then(a.bind(a,2137))},9608:function(e,t,a){"use strict";let l=(0,a(2265).createContext)({amount:600,setAmount:()=>{},cardNumber:void 0,setCardNumber:()=>{},expiry:void 0,setExpiry:()=>{},cvv:void 0,setCvv:()=>{},name:void 0,setName:()=>{},zip:void 0,setZip:()=>{},editing:!1,setEditing:()=>{},error:{},setError:()=>{}});t.Z=l},2137:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var l=a(7437),s=a(2265),r=a(6463),n=a(9892),i=a(9286),c=a.n(i);let o={cardNumber:"Invalid card number.",expiry:"Invalid expiry date.",cvv:"Invalid CVV.",zip:"Invalid ZIP code."};var d=e=>{let{type:t,id:a}=e;return(0,l.jsxs)("span",{className:"mt-2 block text-custom-error-red",children:["invalid"===t&&o[a],"empty"===t&&"This field is required."]})},u=a(6648);let m={visa:"/payment-flow/visa.svg",mastercard:"/payment-flow/mastercard.svg",amex:"/payment-flow/amex.svg",discover:"/payment-flow/discover.svg"},x={error:(0,l.jsx)("span",{className:"icon-wrapper",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-error-red",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})})}),success:(0,l.jsx)("span",{className:"icon-wrapper success",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 text-custom-success-green",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})})},p=(0,l.jsx)("span",{className:"text-custom-dark",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})})});var h=e=>{let{type:t,cardType:a}=e;return"card"===t?a?(0,l.jsx)(u.default,{src:m[a],alt:"".concat(a," icon"),className:"h-8 w-8",width:10,height:10}):p:x[t]||null};let v=e=>{let t={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,amex:/^3[47][0-9]{13}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/};for(let a in t)if(t[a].test(e))return a;return""};var b=e=>{let{id:t,classes:a="",label:s,value:r,onChange:n,onKeyDown:i,error:c,ariaLabel:o,validationFunc:u}=e;return(0,l.jsxs)("div",{className:"form-group ".concat(a),children:[(0,l.jsx)("label",{htmlFor:t,className:"mb-1 block font-bold text-gray-700 max-[385px]:text-sm",children:s}),(0,l.jsxs)("div",{className:"relative flex items-center",children:["cardNumber"===t&&(0,l.jsx)("span",{className:"absolute left-3 flex items-center",children:(0,l.jsx)(h,{type:"card",cardType:null==v?void 0:v(null!=r?r:"")})}),(0,l.jsx)("input",{type:"text",id:t,value:r,onChange:n,onKeyDown:i,className:"w-full rounded border px-3 py-2 text-custom-dark ".concat(c?"border-custom-error-red":"border-custom-medium-gray"," ").concat("cardNumber"===t?"pl-12":""," pr-10"),"aria-label":o}),(0,l.jsx)("span",{className:"absolute right-3 flex items-center",children:c?(0,l.jsx)(h,{type:"error"}):u(r)?(0,l.jsx)(h,{type:"success"}):null})]}),r.length>0&&c?(0,l.jsx)(d,{type:"invalid",id:t}):0===r.length&&c?(0,l.jsx)(d,{type:"empty",id:t}):null]})},g=a(9608),f=e=>{var t,a,r,n,i;let{classes:o}=e,d=(0,s.useContext)(g.Z),u=d.error,{cardNumber:m,setCardNumber:x,expiry:p,setExpiry:h,cvv:v,setCvv:f,name:j,setName:y,zip:N,setZip:w,setEditing:k,setError:C}=d,Z={cardNumber:c().isCreditCard,expiry:e=>{let[t,a]=e.split("/").map(e=>e.trim());if(t&&a&&c().isInt(t,{min:1,max:12})&&c().isInt(a,{min:0})){let e=new Date().getFullYear()%100,l=new Date().getMonth()+1,s=parseInt(a,10),r=parseInt(t,10);return s>e||s===e&&r>=l}return!1},cvv:e=>c().isLength(e,{min:3,max:4})&&c().isNumeric(e),name:e=>c().isAlpha(e.replace(/ /g,"")),zip:e=>c().isPostalCode(e,"US")},E=(e,t)=>{let a=t;"expiry"===e&&2===t.length&&(a=t+"/"),({cardNumber:x,expiry:h,cvv:f,name:y,zip:w})[e](a);let l=!Z[e](a);C(t=>({...t,[e]:l}))};return(0,l.jsxs)("form",{id:"PaymentForm",onSubmit:e=>{e.preventDefault();let t={};Object.keys(Z).forEach(e=>{Z[e](d[e])||(t[e]=!0)}),0===Object.keys(t).length?(C({}),null==k||k(!1)):C(t)},className:"space-y-4 ".concat(o),children:[(0,l.jsx)(b,{id:"cardNumber",label:"Card number",value:null!=m?m:"",onChange:e=>E("cardNumber",e.target.value),error:null!==(t=u.cardNumber)&&void 0!==t&&t,ariaLabel:"Card number",validationFunc:Z.cardNumber}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(b,{id:"expiry",classes:"flex-1",label:"Expires (MM/YY)",value:null!=p?p:"",onChange:e=>E("expiry",e.target.value),onKeyDown:e=>{let t=e.target;("Backspace"===e.key||"Delete"===e.key)&&3===t.selectionStart&&"/"===t.value[2]&&(e.preventDefault(),h(t.value.slice(0,2)))},error:null!==(a=u.expiry)&&void 0!==a&&a,ariaLabel:"Expiration date",validationFunc:Z.expiry}),(0,l.jsx)(b,{id:"cvv",classes:"flex-1",label:"Security code (CVV)",value:null!=v?v:"",onChange:e=>E("cvv",e.target.value),error:null!==(r=u.cvv)&&void 0!==r&&r,ariaLabel:"CVV",validationFunc:Z.cvv})]}),(0,l.jsx)(b,{id:"name",label:"Name on card",value:null!=j?j:"",onChange:e=>E("name",e.target.value),error:null!==(n=u.name)&&void 0!==n&&n,ariaLabel:"Name on card",validationFunc:Z.name}),(0,l.jsx)(b,{id:"zip",label:"Zip code",value:null!=N?N:"",onChange:e=>E("zip",e.target.value),error:null!==(i=u.zip)&&void 0!==i&&i,ariaLabel:"Zip code",validationFunc:Z.zip}),(0,l.jsx)("button",{type:"submit",className:"mt-8 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",children:"Continue"})]})},j=a(482),y=a.n(j);function N(){let{amount:e,cardNumber:t,editing:a,setEditing:i}=(0,s.useContext)(g.Z)||{},c=(0,r.useRouter)(),[o,d]=(0,s.useState)(a?y().expand:y().collapse),[u,m]=(0,s.useState)(a?y().collapse:y().expand);return(0,s.useEffect)(()=>{!1===a&&i&&i(!0)},[a,i]),(0,s.useEffect)(()=>{a?(d(y().expand),m(y().collapse)):(d(y().collapse),m(y().expand))},[a]),(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"mx-auto flex min-h-screen w-full max-w-full flex-col rounded-lg bg-white p-8 text-left shadow-lg max-[1023px]:mx-0 max-[768px]:px-4 lg:my-10 lg:max-w-md",children:[(0,l.jsxs)("section",{id:"step1",className:"".concat(a?"mb-6":"mb-3"),children:[(0,l.jsxs)("header",{className:"flex items-center ".concat(a?"mb-6":"mb-0"),children:[(0,l.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(a?"bg-blue-600 text-white":"bg-custom-light-gray text-gray-500"),children:"1"}),(0,l.jsx)("p",{className:"grow text-xl font-bold text-custom-dark",children:"Payment information"}),!a&&(0,l.jsx)("p",{className:"ml-4 text-lg font-bold text-blue-600 cursor-pointer",onClick:()=>null==i?void 0:i(!0),children:"Edit"})]}),a&&(0,l.jsx)(f,{classes:o})]}),(0,l.jsxs)("section",{id:"step2",className:"mt-3 border-t pt-5",children:[(0,l.jsxs)("header",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"mr-2 inline-block rounded-full px-2 ".concat(a?"bg-custom-light-gray text-gray-500":"bg-blue-600 text-white"),children:"2"}),(0,l.jsx)("span",{className:"".concat(a?"text-gray-500":"text-xl font-bold text-custom-dark"),children:"Review and pay"})]}),!a&&(0,l.jsxs)("div",{className:u,children:[(0,l.jsxs)("p",{className:"my-6 text-xl text-custom-dark",children:["You're about to make a payment of"," ",(0,l.jsxs)("span",{className:"font-bold",children:["$",e]})]}),(0,l.jsx)("h3",{className:"text-lg font-bold text-custom-gray",children:"Payment method"}),(0,l.jsxs)("div",{className:"my-4 flex items-center justify-start gap-2",children:[(0,l.jsx)(h,{type:"card",cardType:null==v?void 0:v(null!=t?t:"")}),(0,l.jsxs)("span",{className:"card-details text-custom-dark",children:["Card ending in ••••",null==t?void 0:t.slice(-4)]})]}),(0,l.jsxs)("button",{className:"m-auto mt-6 w-full rounded-lg bg-blue-600 px-4 py-2 text-white",onClick:e=>{e.preventDefault(),i&&(i(!1),c.push("/ThankYou"))},children:["Pay $",e]})]})]})]})})}},9892:function(e,t,a){"use strict";var l=a(7437),s=a(2265),r=a(6648),n=a(9608),i=a(6463);t.Z=e=>{let{children:t}=e,{setError:a,setEditing:c,setCardNumber:o,setExpiry:d,setCvv:u,setName:m,setZip:x}=(0,s.useContext)(n.Z)||{},p=(0,i.useRouter)();return(0,l.jsxs)("div",{className:"flex min-h-screen flex-col bg-blue-50",children:[(0,l.jsx)("header",{className:"flex items-center min-h-20 bg-white p-4 shadow-md",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(r.default,{src:"/payment-flow/abclogo.svg",alt:"ABC Health System",width:100,height:100,className:"h-auto w-auto cursor-pointer",onClick:()=>{null==a||a({}),null==c||c(!1),null==o||o(""),null==d||d(""),null==u||u(""),null==m||m(""),null==x||x(""),p.push("/")},priority:!0})})}),(0,l.jsx)("main",{className:"flex-grow min-h-screen text-center",children:t})]})}},482:function(e){e.exports={expand:"PayAndReview_expand__eiQXq",collapse:"PayAndReview_collapse__jiIcy"}}},function(e){e.O(0,[370,595,286,971,23,744],function(){return e(e.s=91)}),_N_E=e.O()}]);